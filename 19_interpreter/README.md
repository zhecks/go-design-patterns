# interpreter

## 定义

给定一个语言，定义它的文法的一种表示，并定义一个解析器，这个解析器使用该标示来解析语言中的句子

ps：文法=语法规则

![image-20230818172442665](https://cdn.jsdelivr.net/gh/zhecks/static_resources/images/202308181724957.png)

## 解析器和解释器

解析器：指的是把描述客户段调用要求的表达式，经过解析，形成一个抽象语法树的程序

解释器：解释抽象语法树，并执行每个节点对应的功能的程序

## 优缺点

解释器模式有以下优点

* 易于实现语法

在解释器模式中，一条语法规则用一个解释器对象来解释执行。对于解释器的实现来讲，功能就变得比较简单，只需要考虑这一条语法规则的实现就可以了，其他的都不用管

* 易于扩展新的语法

正是由于采用一个解释器对象负责一条语法规则的方式，使得扩展新的语法非常容易。扩展了新的语法，只需要创建相应的解释器对象，在创建抽象语法树的时候使用这个新的解释器对象就可以了

解释器模式的缺点

不适合复杂的语法

## 思考

1. 解释器模式的本质

解释器模式的本质：分离实现，解释执行

2. 何时选用解释器模式

当有一个语言需要解释执行，并且可以将语言中的句子表示为一个抽象语法树的时候，可以考虑使用解释器模式

在使用解释器模式的时候，还有两个特点需要考虑，一个是语法相对应该比较简单，太复杂的语法不适合使用解释器模式；另一个是效率哟爱去不是很高，对效率要求很高的情况下，不适合使用解释器