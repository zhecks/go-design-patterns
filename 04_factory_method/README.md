# factory method

## 定义

定义一个用于创建对象的接口，让子类决定实例化哪个类，Factory Method使一个类的实例化延迟到其子类

![image-20230816192057973](https://cdn.jsdelivr.net/gh/zhecks/static_resources/images/202308161920192.png)

## 优缺点

工厂方法模式的优点

* 可以在不知道具体实现的情况下编程

工厂方法模式可以让你在实现功能的时候，如果需要某个产品对象，只需要使用产品的接口即可，而无需关心具体的实现。选择具体实现的任务延迟到子类去完成

* 更容易扩展对象的新版本

工厂方法给子类提供了一个挂钩，使得扩展新的对象版本变得非常容易。

* 来接平行的类层次

## 思考

1. 工厂方法模式的本质

工厂方法模式的本质：延迟到子类来选择实现

2. 工厂方法和简单工厂的区别

从本质来说两者是非常类似，区别在于简单工厂模式下，依赖的工厂类是具体的实现类，而在工厂方法模式下，依赖的是抽象工厂。所以相对来说工厂方法具有更好的可维护性和可扩展性

3. 何时选用工厂方法模式

* 如果一个类需要创建某个接口的对象，但是又不知道具体的实现，这种情况下可以选用工厂方法模式，把创建对象的工作延迟到子类中去实现
* 如果一个类本身就希望由它的子类来创建所需的对象的时候，应该使用工厂方法模式