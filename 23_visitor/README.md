# visitor

## 定义

表示一个作用于某对象结构的各元素的操作。它使你可以在不该边各元素的类的前提下定义作用于这些元素的新操作

ps：感觉意义不是很大，实现类A中有个方法能够让方法B调用实现类A，这和方法B直接调用实现类A有啥区别呢？

![image-20230818201243065](https://cdn.jsdelivr.net/gh/zhecks/static_resources/images/202308182012339.png)

## 优缺点

访问者模式有以下优点

* 好的扩展性

能够在不修改对象结构中的元素情况下，伟对象结构中的元素添加新的功能

* 好的复用性

可以通过访问者来定义整个对象结构通用的功能，从而提高复用成都

* 分离无关行为

可以通过访问者来分离无关的行为，把相关的行为封装在一起，构成一个访问者，这样每一个访问者的躬耕都比较单一

访问者模式有以下缺点

* 对象结构变化很困难

不适用于对象结构中的类经常变化的情况，因为对象结构发生了改变，访问者的接口和访问者的实现都要发生相应的改变，代价太高

* 破坏封装

访问者模式通常需要对象结构开放内部数据和访问者和ObjectStructrue，这破坏了对象的封装性

## 思考

1. ~~访问者模式的本质~~

~~访问者模式的本质：预留通路，回调实现~~

2. ~~何时选用访问者模式~~
* ~~如果想对一个对象结构实施一些依赖于对象结构中具体类的操作，可以使用访问者模式~~
* ~~如果想要对一个对象结构的各个元素进行很多不同的而且不相关的操作，为了避免这些操作使得类变得杂乱，可以使用访问者模式。把这些操作分散到不同的访问者对象中去，每个访问者对象实现同一类功能~~
* ~~如果对象结构很少变动，但是需要经常给对象结构中的元素对象定义新的操作，可以使用访问者模式~~

ps：没用，不如静态方法传参实现类的方式，花里胡哨