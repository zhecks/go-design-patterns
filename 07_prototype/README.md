# prototype

## 定义

用原型实例指定创建对象的种类，并通过拷贝这些原型创建新的对象

![](https://cdn.jsdelivr.net/gh/zhecks/static_resources/images/202308171332273.png)

## 优缺点

原型模式的优点

* 对客户端隐藏具体的实现类型

原型模式的客户端只知道原型接口的类型，并不知道具体的实现类型，从而减少了客户端对这些具体实现类型的依赖（面向接口编程）

* 在运行时动态改变具体的实现类型

原型模式可以在运行期间，由客户来注册符合原型接口的实现类型，也可以动态地改变具体的实现类型，看起来接口没有任何变化，但其实运行的已经是另外一个类实例了。因为克隆一个原型就类似实例化一个类

原型模式缺点

原型模式最大的缺点就在于每个原型的子类都必须实现clone的操作，尤其在包含引用类型的对象时，clone方法会比较麻烦，必须要能递归地让所有的相关对象都要正确地实现克隆

## 思考

1. 原型模式的本质

原型模式的本质：克隆生成对象（ps：自己克隆自己）

2. 何时选用原型模式

* 如果一个系统想要独立于它想要使用的对象时，可以使用原型模式，让系统只面向接口编程，在系统需要新的对象的时候，可以通过克隆原型来得到
* 如果需要实例化的类时在运行时刻动态指定时，可以使用原型模式，通过克隆原型来得到需要的实例